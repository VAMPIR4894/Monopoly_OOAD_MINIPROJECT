<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Monopoly</title>
	<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
	<script type="text/javascript" src="classicedition.js"></script>
	<!-- Comment out the previous line and uncomment the next one to enable the New York City Edition -->
	<!-- <script type="text/javascript" src="newyorkcityedition.js"></script> -->
	<script type="text/javascript" src="ai.js"></script>
	<script type="text/javascript" src="monopoly.js"></script>
	<link rel="stylesheet" type="text/css" href="styles.css" />
	<style>
		:root {
			--primary-color: #2c3e50;
			--secondary-color: #3498db;
			--accent-color: #e74c3c;
			--background-color: #f5f6fa;
			--text-color: #ffffff;
			--border-radius: 8px;
			--box-shadow: 0 2px 4px rgba(0,0,0,0.1);
		}

		body {
			font-family: 'Roboto', sans-serif;
			margin: 0;
			padding: 20px;
			background: url('images/index.png') no-repeat center center fixed;
			background-size: cover;
			color: var(--text-color);
			position: relative;
			min-height: 100vh;
		}

		body::before {
			content: '';
			position: absolute;
			top: 0;
			left: 0;
			right: 0;
			bottom: 0;
			z-index: -1;
		}

		#board {
			border-spacing: 0;
			border-collapse: collapse;
			margin: 25px;
			float: left;
			background: rgba(255, 255, 255, 0.9);
			border-radius: var(--border-radius);
			box-shadow: var(--box-shadow);
			backdrop-filter: blur(8px);
			-webkit-backdrop-filter: blur(8px);
			width: 90vh;
			height: 90vh;
			max-width: 95vh;
			max-height: 95vh;
			border: 2px solid black;
			table-layout: fixed;
		}

		#moneybarwrap {
			background: rgba(255, 255, 255, 0.9);
			border-radius: var(--border-radius);
			box-shadow: var(--box-shadow);
			padding: 15px;
			margin: 20px auto;
			max-width: 800px;
			backdrop-filter: blur(8px);
			-webkit-backdrop-filter: blur(8px);
		}

		.money-bar-row {
			transition: background-color 0.3s;
			color: var(--primary-color);
		}

		.money-bar-row:hover {
			background-color: rgba(52, 152, 219, 0.1);
		}

		#control {
			background: rgba(255, 255, 255, 0.9);
			border-radius: var(--border-radius);
			box-shadow: var(--box-shadow);
			padding: 20px;
			margin: 20px auto;
			max-width: 800px;
			backdrop-filter: blur(8px);
			-webkit-backdrop-filter: blur(8px);
		}

		#menu {
			margin-bottom: 20px;
		}

		.menu-item a {
			color: white;
			text-decoration: none;
			
			border-radius: var(--border-radius);
			transition: background-color 0.3s;
			align-content: center;
		}

		.menu-item a:hover {
			background-color: rgba(52, 152, 219, 0.1);
		}

		input[type="button"] {
			background-color: var(--secondary-color);
			color: white;
			border: none;
			padding: 10px 20px;
			border-radius: var(--border-radius);
			cursor: pointer;
			transition: background-color 0.3s;
		}

		input[type="button"]:hover {
			background-color: #2980b9;
		}

		#setup {
			background: rgba(255, 255, 255, 0.9);
			border-radius: var(--border-radius);
			box-shadow: var(--box-shadow);
			padding: 20px;
			margin: 20px auto;
			max-width: 600px;
			backdrop-filter: blur(8px);
			-webkit-backdrop-filter: blur(8px);
		}

		.player-input {
			margin: 15px 0;
			padding: 10px;
			border-radius: var(--border-radius);
			background-color: rgba(52, 152, 219, 0.05);
		}

		select, input[type="text"] {
			padding: 8px;
			border: 1px solid #ddd;
			border-radius: var(--border-radius);
			margin: 5px;
			background-color: rgba(255, 255, 255, 0.9);
		}

		#trade {
			background: rgba(255, 255, 255, 0.9);
			border-radius: var(--border-radius);
			box-shadow: var(--box-shadow);
			padding: 20px;
			margin: 20px auto;
			max-width: 800px;
			backdrop-filter: blur(8px);
			-webkit-backdrop-filter: blur(8px);
		}

		.trade-cell {
			padding: 10px;
			background-color: rgba(52, 152, 219, 0.05);
			border-radius: var(--border-radius);
		}

		#deed {
			background: rgba(255, 255, 255, 0.9);
			border-radius: var(--border-radius);
			box-shadow: var(--box-shadow);
			padding: 20px;
			margin: 0px auto;
			max-width: 300px;
			backdrop-filter: blur(8px);
			-webkit-backdrop-filter: blur(8px);
		}

		#popup, #stats {
			background: rgba(255, 255, 255, 0.9);
			border-radius: var(--border-radius);
			box-shadow: var(--box-shadow);
			padding: 20px;
			backdrop-filter: blur(8px);
			-webkit-backdrop-filter: blur(8px);
		}

		#noscript, #refresh {
			color: var(--text-color);
			text-align: center;
			margin: 20px;
		}

		@media (max-width: 768px) {
			body {
				padding: 10px;
			}

			#board {
				max-width: 100%;
			}

			#moneybarwrap, #control, #setup, #trade {
				max-width: 100%;
			}
		}

		.cell {
			width: 9vh;
			height: 9vh;
			border: 1px solid #000;
			position: relative;
			text-align: center;
			vertical-align: middle;
			padding: 5px;
			box-sizing: border-box;
			font-size: 1vw;
			white-space: nowrap;
			overflow: hidden;
			text-overflow: ellipsis;
		}

		.board-center {
			width: 72vh;
			height: 72vh;
			background-color: #f0f0f0;
		}

		.board-corner {
			width: 9vh;
			height: 9vh;
		}

		.board-top, .board-bottom {
			width: 9vh;
			height: 9vh;
		}

		.board-left, .board-right {
			width: 9vh;
			height: 9vh;
		}

		.player-token {
			width: 2vh;
			height: 2vh;
			min-width: 15px;
			min-height: 15px;
			max-width: 25px;
			max-height: 25px;
			border-radius: 50%;
			position: absolute;
			margin: 3px;
			border: 1px solid #000;
			box-shadow: 0 0 3px rgba(0,0,0,0.5);
			z-index: 10;
		}

		#player1 { background-color: #FFFF00; } /* Yellow */
		#player2 { background-color: #0000FF; } /* Blue */
		#player3 { background-color: #FF0000; } /* Red */
		#player4 { background-color: #00FF00; } /* Lime */

		.board-right {
			width: 10%;
			height: calc(7vh);
			border: 1px solid #000;
			position: relative;
			text-align: center;
			vertical-align: middle;
			padding: 5px;
			box-sizing: border-box;
		}

		.board-corner {
			width: 10%;
			height: calc(8vh);
			border: 1px solid #000;
			position: relative;
			text-align: center;
			vertical-align: middle;
			padding: 5px;
			box-sizing: border-box;
		}

		.cell {
			width: 10%;
			height: calc(7vh);
			border: 1px solid #000;
			position: relative;
			text-align: center;
			vertical-align: middle;
			padding: 5px;
			box-sizing: border-box;
			font-size: 0.8vw;
			white-space: nowrap;
			overflow: hidden;
			text-overflow: ellipsis;
		}

		.board-center {
			width: 80%;
			height: 80%;
			background-color: #f0f0f0;
		}

		.board-top, .board-bottom {
			height: calc(7vh);
		}

		.board-left, .board-right {
			width: 10%;
		}
	</style>
</head>

<body>
	<!-- Removed the login/register navigation -->
	<div id="popupbackground"></div>
	<div id="popupwrap">
		<div id="popup">
			<div style="position: relative;">
				<!-- <img id="popupclose" src="Images/close.png" title="Close" alt="x" onclick="hide('popupbackground'); hide('popupwrap');" /> -->
				<div id="popuptext"></div>
				<div id="popupdrag"></div>
			</div>
		</div>
	</div>

	<div id="statsbackground"></div>
	<div id="statswrap">
		<div id="stats">
			<div style="position: relative;">
				<img id="statsclose" src="images/close.png" title="Close" alt="x" />
				<div id="statstext"></div>
				<div id="statsdrag"></div>
			</div>
		</div>
	</div>

	<p id="noscript">
		Note: This page will not function without JavaScript.
	</p>

	<div id="refresh">
		Refresh this page to start a new game.
	</div>

	<!-- <div id="enlarge"></div> -->

	<div id="deed">
		<div id="deed-normal" style="display: none;">
			<div id="deed-header">
				<div style="margin: 5px; font-size: 11px;">T I T L E&nbsp;&nbsp;D E E D</div>
				<div id="deed-name"></div>
			</div>
			<table id="deed-table">
				<tr>
					<td colspan="2">
						RENT&nbsp;$<span id="deed-baserent">12</span>.
					</td>
				</tr>
				<tr>
					<td style="text-align: left;">With 1 House</td>
					<td style="text-align: right;">$&nbsp;&nbsp;&nbsp;<span id="deed-rent1">60</span>.</td>
				</tr>
				<tr>
					<td style="text-align: left;">With 2 Houses</td>
					<td style="text-align: right;"><span id="deed-rent2">180</span>.</td>
				</tr>
				<tr>
					<td style="text-align: left;">With 3 Houses</td>
					<td style="text-align: right;"><span id="deed-rent3">500</span>.</td>
				</tr>
				<tr>
					<td style="text-align: left;">With 4 Houses</td>
					<td style="text-align: right;"><span id="deed-rent4">700</span>.</td>
				</tr>
				<tr>
					<td colspan="2">
						<div style="margin-bottom: 8px;">With HOTEL $<span id="deed-rent5">900</span>.</div>
						<div>Mortgage Value $<span id="deed-mortgage">80</span>.</div>
						<div>Houses cost $<span id="deed-houseprice">100</span>. each</div>
						<div>Hotels, $<span id="deed-hotelprice">100</span>. plus 4 houses</div>
						<div style="font-size: 9px; font-style: italic; margin-top: 5px;">If a player owns ALL the Lots of any Color-Group, the rent is Doubled on Unimproved Lots in that group.</div>
					</td>
				</tr>
			</table>
		</div>

		<div id="deed-mortgaged">
			<div id="deed-mortgaged-name"></div>
			<p>&bull;</p>
			<div>MORTGAGED</div>
			<div> for $<span id="deed-mortgaged-mortgage">80</span></div>
			<p>&bull;</p>
			<div style="font-style: italic; font-size: 13px; margin: 10px;">Card must be turned this side up if property is mortgaged</div>
		</div>

		<div id="deed-special">
			<div id="deed-special-name"></div>
			<div id="deed-special-text"></div>
			<div id="deed-special-footer">
				Mortgage Value
				<span style="float: right;">$<span id="deed-special-mortgage">100</span>.</span>
			</div>
		</div>
	</div>

	<table id="board">
		<tr>
			<td class="cell board-corner" id="cell20"></td>
			<td class="cell board-top" id="cell21"></td>
			<td class="cell board-top" id="cell22"></td>
			<td class="cell board-top" id="cell23"></td>
			<td class="cell board-top" id="cell24"></td>
			<td class="cell board-top" id="cell25"></td>
			<td class="cell board-top" id="cell26"></td>
			<td class="cell board-top" id="cell27"></td>
			<td class="cell board-top" id="cell28"></td>
			<td class="cell board-top" id="cell29"></td>
			<td class="cell board-corner" id="cell30"></td>
		</tr><tr>
			<td class="cell board-left" id="cell19"></td>
			<td colspan="9" class="board-center"></td>
			<td class="cell board-right" id="cell31"></td>
		</tr><tr>
			<td class="cell board-left" id="cell18"></td>
			<td colspan="9" class="board-center"></td>
			<td class="cell board-right" id="cell32"></td>
		</tr><tr>
			<td class="cell board-left" id="cell17"></td>
			<td colspan="9" class="board-center"></td>
			<td class="cell board-right" id="cell33"></td>
		</tr><tr>
			<td class="cell board-left" id="cell16"></td>
			<td colspan="9" class="board-center"></td>
			<td class="cell board-right" id="cell34"></td>
		</tr><tr>
			<td class="cell board-left" id="cell15"></td>
			<td colspan="9" class="board-center"></td>
			<td class="cell board-right" id="cell35"></td>
		</tr><tr>
			<td class="cell board-left" id="cell14"></td>
			<td colspan="9" class="board-center"></td>
			<td class="cell board-right" id="cell36"></td>
		</tr><tr>
			<td class="cell board-left" id="cell13"></td>
			<td colspan="9" class="board-center"></td>
			<td class="cell board-right" id="cell37"></td>
		</tr><tr>
			<td class="cell board-left" id="cell12"></td>
			<td colspan="9" class="board-center"></td>
			<td class="cell board-right" id="cell38"></td>
		</tr><tr>
			<td class="cell board-left" id="cell11"></td>
			<td colspan="9" class="board-center">
				<div id="jail"></div>
			</td>
			<td class="cell board-right" id="cell39"></td>
		</tr><tr>
			<td class="cell board-corner" id="cell10"></td>
			<td class="cell board-bottom" id="cell9"></td>
			<td class="cell board-bottom" id="cell8"></td>
			<td class="cell board-bottom" id="cell7"></td>
			<td class="cell board-bottom" id="cell6"></td>
			<td class="cell board-bottom" id="cell5"></td>
			<td class="cell board-bottom" id="cell4"></td>
			<td class="cell board-bottom" id="cell3"></td>
			<td class="cell board-bottom" id="cell2"></td>
			<td class="cell board-bottom" id="cell1"></td>
			<td class="cell board-corner" id="cell0"></td>
		</tr>
	</table>

	<div id="moneybarwrap">
		<div id="moneybar">
			<table>
				<tr id="moneybarrow1" class="money-bar-row">
					<td class="moneybararrowcell"><img src="images/arrow.png" id="p1arrow" class="money-bar-arrow" alt=">"/></td>
					<td id="p1moneybar" class="moneybarcell">
						<div><span id="p1moneyname" >Player 1</span>:</div>
						<div>$<span id="p1money">1500</span></div>
					</td>
				</tr>
				<tr id="moneybarrow2" class="money-bar-row">
					<td class="moneybararrowcell"><img src="images/arrow.png" id="p2arrow" class="money-bar-arrow" alt=">" /></td>
					<td id="p2moneybar" class="moneybarcell">
						<div><span id="p2moneyname" >Player 2</span>:</div>
						<div>$<span id="p2money">1500</span></div>
					</td>
				</tr>
				<tr id="moneybarrow3" class="money-bar-row">
					<td class="moneybararrowcell"><img src="images/arrow.png" id="p3arrow" class="money-bar-arrow" alt=">" /></td>
					<td id="p3moneybar" class="moneybarcell">
						<div><span id="p3moneyname" >Player 3</span>:</div>
						<div>$<span id="p3money">1500</span></div>
					</td>
				</tr>
				<tr id="moneybarrow4" class="money-bar-row">
					<td class="moneybararrowcell"><img src="images/arrow.png" id="p4arrow" class="money-bar-arrow" alt=">" /></td>
					<td id="p4moneybar" class="moneybarcell">
						<div><span id="p4moneyname" >Player 4</span>:</div>
						<div>$<span id="p4money">1500</span></div>
					</td>
				</tr>
				<tr id="moneybarrow5" class="money-bar-row">
					<td class="moneybararrowcell"><img src="images/arrow.png" id="p5arrow" class="money-bar-arrow" alt=">" /></td>
					<td id="p5moneybar" class="moneybarcell">
						<div><span id="p5moneyname" >Player 5</span>:</div>
						<div>$<span id="p5money">1500</span></div>
					</td>
				</tr>
				<tr id="moneybarrow6" class="money-bar-row">
					<td class="moneybararrowcell"><img src="images/arrow.png" id="p6arrow" class="money-bar-arrow" alt=">" /></td>
					<td id="p6moneybar" class="moneybarcell">
						<div><span id="p6moneyname" >Player 6</span>:</div>
						<div>$<span id="p6money">1500</span></div>
					</td>
				</tr>
				<tr id="moneybarrow7" class="money-bar-row">
					<td class="moneybararrowcell"><img src="images/arrow.png" id="p7arrow" class="money-bar-arrow" alt=">" /></td>
					<td id="p7moneybar" class="moneybarcell">
						<div><span id="p7moneyname" >Player 7</span>:</div>
						<div>$<span id="p7money">1500</span></div>
					</td>
				</tr>
				<tr id="moneybarrow8" class="money-bar-row">
					<td class="moneybararrowcell"><img src="images/arrow.png" id="p8arrow" class="money-bar-arrow" alt=">" /></td>
					<td id="p8moneybar" class="moneybarcell">
						<div><span id="p8moneyname" >Player 8</span>:</div>
						<div>$<span id="p8money">1500</span></div>
					</td>
				</tr>
				<tr id="moneybarrowbutton">
					<td class="moneybararrowcell">&nbsp;</td>
					<td style="border: none;">
						<input type="button" id="viewstats" value="View stats" title="View a pop-up window that shows a list of each player's properties." />
					</td>
				</tr>
			</table>
		</div>
	</div>

	<div id="setup" style="display: none;">
		<!-- Add inline style to hide the setup section initially -->
		<div style="margin-bottom: 20px;">
			Select number of players.
			<select id="playernumber" title="Select the number of players for the game.">
				<option>2</option>
				<option>3</option>
				<option selected="selected">4</option>
				<option>5</option>
				<option>6</option>
				<option>7</option>
				<option>8</option>
			</select>
		</div>

		<div style="margin-bottom: 20px;">
			<h2 style="color: #000;">Select game edition.</h2>
			<select id="gameedition" title="Select the game edition to play.">
				<option value="classic" selected="selected">Classic Edition</option>
				<option value="nyc">New York City Edition</option>
			</select>
		</div>

		<div id="player1input" class="player-input">
			<h3 style="color:#000">Player 1: </h3><input type="text" id="player1name" title="Player name" maxlength="16" value="Player 1" />
			<select id="player1color" title="Player color">
				<option style="color: #00FFFF;">🟢 <span style="color: black;">Aqua</span></option>
				<option style="color: #000000;">⚫ <span style="color: black;">Black</span></option>
				<option style="color: #0000FF;">🔵 <span style="color: black;">Blue</span></option>
				<option style="color: #FF00FF;">🟣 <span style="color: black;">Fuchsia</span></option>
				<option style="color: #808080;">⚪ <span style="color: black;">Gray</span></option>
				<option style="color: #008000;">🟢 <span style="color: black;">Green</span></option>
				<option style="color: #00FF00;">🟢 <span style="color: black;">Lime</span></option>
				<option style="color: #800000;">🔴 <span style="color: black;">Maroon</span></option>
				<option style="color: #000080;">🔵 <span style="color: black;">Navy</span></option>
				<option style="color: #808000;">🟤 <span style="color: black;">Olive</span></option>
				<option style="color: #FFA500;">🟠 <span style="color: black;">Orange</span></option>
				<option style="color: #800080;">🟣 <span style="color: black;">Purple</span></option>
				<option style="color: #FF0000;">🔴 <span style="color: black;">Red</span></option>
				<option style="color: #C0C0C0;">⚪ <span style="color: black;">Silver</span></option>
				<option style="color: #008080;">🔵 <span style="color: black;">Teal</span></option>
				<option selected="selected" style="color: #FFFF00;">🟡 <span style="color: black;">Yellow</span></option>				
			</select>
			<select id="player1ai" title="Choose whether this player is controled by a human or by the computer." onclick="document.getElementById('player1name').disabled = this.value !== '0';">
				<option value="0" selected="selected">Human</option>
				<option value="1">AI (Test)</option>
			</select>
		</div>

		<div id="player2input" class="player-input">
			<h3 style="color:#000">Player 2: </h3><input type="text" id="player2name" title="Player name" maxlength="16" value="Player 2" />
			<select id="player2color" title="Player color">
				<option style="color: #00FFFF;">🟢 <span style="color: black;">Aqua</span></option>
				<option style="color: #000000;">⚫ <span style="color: black;">Black</span></option>
				<option selected="selected" style="color: #0000FF;">🔵 <span style="color: black;">Blue</span></option>
				<option style="color: #FF00FF;">🟣 <span style="color: black;">Fuchsia</span></option>
				<option style="color: #808080;">⚪ <span style="color: black;">Gray</span></option>
				<option style="color: #008000;">🟢 <span style="color: black;">Green</span></option>
				<option style="color: #00FF00;">🟢 <span style="color: black;">Lime</span></option>
				<option style="color: #800000;">🔴 <span style="color: black;">Maroon</span></option>
				<option style="color: #000080;">🔵 <span style="color: black;">Navy</span></option>
				<option style="color: #808000;">🟤 <span style="color: black;">Olive</span></option>
				<option style="color: #FFA500;">🟠 <span style="color: black;">Orange</span></option>
				<option style="color: #800080;">🟣 <span style="color: black;">Purple</span></option>
				<option style="color: #FF0000;">🔴 <span style="color: black;">Red</span></option>
				<option style="color: #C0C0C0;">⚪ <span style="color: black;">Silver</span></option>
				<option style="color: #008080;">🔵 <span style="color: black;">Teal</span></option>
				<option style="color: #FFFF00;">🟡 <span style="color: black;">Yellow</span></option>
			</select>
			<select id="player2ai" title="Choose whether this player is controled by a human or by the computer." onclick="document.getElementById('player2name').disabled = this.value !== '0';">
				<option value="0" selected="selected">Human</option>
				<option value="1">AI (Test)</option>
			</select>
		</div>

		<div id="player3input" class="player-input">
			<h3 style="color:#000">Player 3: </h3><input type="text" id="player3name" title="Player name" maxlength="16" value="Player 3" />
			<select id="player3color" title="Player color">
				<option style="color: #00FFFF;">🟢 <span style="color: black;">Aqua</span></option>
				<option style="color: #000000;">⚫ <span style="color: black;">Black</span></option>
				<option style="color: #0000FF;">🔵 <span style="color: black;">Blue</span></option>
				<option style="color: #FF00FF;">🟣 <span style="color: black;">Fuchsia</span></option>
				<option style="color: #808080;">⚪ <span style="color: black;">Gray</span></option>
				<option style="color: #008000;">🟢 <span style="color: black;">Green</span></option>
				<option style="color: #00FF00;">🟢 <span style="color: black;">Lime</span></option>
				<option style="color: #800000;">🔴 <span style="color: black;">Maroon</span></option>
				<option style="color: #000080;">🔵 <span style="color: black;">Navy</span></option>
				<option style="color: #808000;">🟤 <span style="color: black;">Olive</span></option>
				<option style="color: #FFA500;">🟠 <span style="color: black;">Orange</span></option>
				<option style="color: #800080;">🟣 <span style="color: black;">Purple</span></option>
				<option selected="selected" style="color: #FF0000;">🔴 <span style="color: black;">Red</span></option>
				<option style="color: #C0C0C0;">⚪ <span style="color: black;">Silver</span></option>
				<option style="color: #008080;">🔵 <span style="color: black;">Teal</span></option>
				<option style="color: #FFFF00;">🟡 <span style="color: black;">Yellow</span></option>
			</select>
			<select id="player3ai" title="Choose whether this player is controled by a human or by the computer." onclick="document.getElementById('player3name').disabled = this.value !== '0';">
				<option value="0" selected="selected">Human</option>
				<option value="1">AI (Test)</option>
			</select>
		</div>

		<div id="player4input" class="player-input">
			<h3 style="color:#000">Player 4: </h3><input type="text" id="player4name" title="Player name" maxlength="16" value="Player 4" />
			<select id="player4color" title="Player color">
				<option style="color: #00FFFF;">🟢 <span style="color: black;">Aqua</span></option>
				<option style="color: #000000;">⚫ <span style="color: black;">Black</span></option>
				<option style="color: #0000FF;">🔵 <span style="color: black;">Blue</span></option>
				<option style="color: #FF00FF;">🟣 <span style="color: black;">Fuchsia</span></option>
				<option style="color: #808080;">⚪ <span style="color: black;">Gray</span></option>
				<option style="color: #008000;">🟢 <span style="color: black;">Green</span></option>
				<option selected="selected" style="color: #00FF00;">🟢 <span style="color: black;">Lime</span></option>
				<option style="color: #800000;">🔴 <span style="color: black;">Maroon</span></option>
				<option style="color: #000080;">🔵 <span style="color: black;">Navy</span></option>
				<option style="color: #808000;">🟤 <span style="color: black;">Olive</span></option>
				<option style="color: #FFA500;">🟠 <span style="color: black;">Orange</span></option>
				<option style="color: #800080;">🟣 <span style="color: black;">Purple</span></option>
				<option style="color: #FF0000;">🔴 <span style="color: black;">Red</span></option>
				<option style="color: #C0C0C0;">⚪ <span style="color: black;">Silver</span></option>
				<option style="color: #008080;">🔵 <span style="color: black;">Teal</span></option>
				<option style="color: #FFFF00;">🟡 <span style="color: black;">Yellow</span></option>
			</select>
			<select id="player4ai" title="Choose whether this player is controled by a human or by the computer." onclick="document.getElementById('player4name').disabled = this.value !== '0';">
				<option value="0" selected="selected">Human</option>
				<option value="1">AI (Test)</option>
			</select>
		</div>

		<div id="player5input" class="player-input">
			<h3 style="color:#000">Player 5: </h3><input type="text" id="player5name" title="Player name" maxlength="16" value="Player 5" />
			<select id="player5color" title="Player color">
				<option style="color: #00FFFF;">🟢 <span style="color: black;">Aqua</span></option>
				<option style="color: #000000;">⚫ <span style="color: black;">Black</span></option>
				<option style="color: #0000FF;">🔵 <span style="color: black;">Blue</span></option>
				<option style="color: #FF00FF;">🟣 <span style="color: black;">Fuchsia</span></option>
				<option style="color: #808080;">⚪ <span style="color: black;">Gray</span></option>
				<option selected="selected" style="color: #008000;">🟢 <span style="color: black;">Green</span></option>
				<option style="color: #00FF00;">🟢 <span style="color: black;">Lime</span></option>
				<option style="color: #800000;">🔴 <span style="color: black;">Maroon</span></option>
				<option style="color: #000080;">🔵 <span style="color: black;">Navy</span></option>
				<option style="color: #808000;">🟤 <span style="color: black;">Olive</span></option>
				<option style="color: #FFA500;">🟠 <span style="color: black;">Orange</span></option>
				<option style="color: #800080;">🟣 <span style="color: black;">Purple</span></option>
				<option style="color: #FF0000;">🔴 <span style="color: black;">Red</span></option>
				<option style="color: #C0C0C0;">⚪ <span style="color: black;">Silver</span></option>
				<option style="color: #008080;">🔵 <span style="color: black;">Teal</span></option>
				<option style="color: #FFFF00;">🟡 <span style="color: black;">Yellow</span></option>
			</select>
			<select id="player5ai" title="Choose whether this player is controled by a human or by the computer." onclick="document.getElementById('player5name').disabled = this.value !== '0';">
				<option value="0" selected="selected">Human</option>
				<option value="1">AI (Test)</option>
			</select>
		</div>

		<div id="player6input" class="player-input">
			<h3 style="color:#000">Player 6: </h3><input type="text" id="player6name" title="Player name" maxlength="16" value="Player 6" />
			<select id="player6color" title="Player color">
				<option style="color: #00FFFF;">🟢 <span style="color: black;">Aqua</span></option>
				<option selected="selected" style="color: #000000;">⚫ <span style="color: black;">Black</span></option>
				<option style="color: #0000FF;">🔵 <span style="color: black;">Blue</span></option>
				<option style="color: #FF00FF;">🟣 <span style="color: black;">Fuchsia</span></option>
				<option style="color: #808080;">⚪ <span style="color: black;">Gray</span></option>
				<option style="color: #008000;">🟢 <span style="color: black;">Green</span></option>
				<option style="color: #00FF00;">🟢 <span style="color: black;">Lime</span></option>
				<option style="color: #800000;">🔴 <span style="color: black;">Maroon</span></option>
				<option style="color: #000080;">🔵 <span style="color: black;">Navy</span></option>
				<option style="color: #808000;">🟤 <span style="color: black;">Olive</span></option>
				<option style="color: #FFA500;">🟠 <span style="color: black;">Orange</span></option>
				<option style="color: #800080;">🟣 <span style="color: black;">Purple</span></option>
				<option style="color: #FF0000;">🔴 <span style="color: black;">Red</span></option>
				<option style="color: #C0C0C0;">⚪ <span style="color: black;">Silver</span></option>
				<option style="color: #008080;">🔵 <span style="color: black;">Teal</span></option>
				<option style="color: #FFFF00;">🟡 <span style="color: black;">Yellow</span></option>
			</select>
			<select id="player6ai" title="Choose whether this player is controled by a human or by the computer." onclick="document.getElementById('player6name').disabled = this.value !== '0';">
				<option value="0" selected="selected">Human</option>
				<option value="1">AI (Test)</option>
			</select>
		</div>

		<div id="player7input" class="player-input">
			<h3 style="color:#000">Player 7: </h3><input type="text" id="player7name" title="Player name" maxlength="16" value="Player 7" />
			<select id="player7color" title="Player color">
				<option style="color: #00FFFF;">🟢 <span style="color: black;">Aqua</span></option>
				<option style="color: #000000;">⚫ <span style="color: black;">Black</span></option>
				<option style="color: #0000FF;">🔵 <span style="color: black;">Blue</span></option>
				<option style="color: #FF00FF;">🟣 <span style="color: black;">Fuchsia</span></option>
				<option style="color: #808080;">⚪ <span style="color: black;">Gray</span></option>
				<option style="color: #008000;">🟢 <span style="color: black;">Green</span></option>
				<option style="color: #00FF00;">🟢 <span style="color: black;">Lime</span></option>
				<option style="color: #800000;">🔴 <span style="color: black;">Maroon</span></option>
				<option style="color: #000080;">🔵 <span style="color: black;">Navy</span></option>
				<option style="color: #808000;">🟤 <span style="color: black;">Olive</span></option>
				<option selected="selected" style="color: #FFA500;">🟠 <span style="color: black;">Orange</span></option>
				<option style="color: #800080;">🟣 <span style="color: black;">Purple</span></option>
				<option style="color: #FF0000;">🔴 <span style="color: black;">Red</span></option>
				<option style="color: #C0C0C0;">⚪ <span style="color: black;">Silver</span></option>
				<option style="color: #008080;">🔵 <span style="color: black;">Teal</span></option>
				<option style="color: #FFFF00;">🟡 <span style="color: black;">Yellow</span></option>
			</select>
			<select id="player7ai" title="Choose whether this player is controled by a human or by the computer." onclick="document.getElementById('player7name').disabled = this.value !== '0';">
				<option value="0" selected="selected">Human</option>
				<option value="1">AI (Test)</option>
			</select>
		</div>

		<div id="player8input" class="player-input">
			<h3 style="color:#000">Player 8: </h3><input type="text" id="player8name" title="Player name" maxlength="16" value="Player 8" />
			<select id="player8color" title="Player color">
				<option style="color: #00FFFF;">🟢 <span style="color: black;">Aqua</span></option>
				<option style="color: #000000;">⚫ <span style="color: black;">Black</span></option>
				<option style="color: #0000FF;">🔵 <span style="color: black;">Blue</span></option>
				<option style="color: #FF00FF;">🟣 <span style="color: black;">Fuchsia</span></option>
				<option style="color: #808080;">⚪ <span style="color: black;">Gray</span></option>
				<option style="color: #008000;">🟢 <span style="color: black;">Green</span></option>
				<option style="color: #00FF00;">🟢 <span style="color: black;">Lime</span></option>
				<option style="color: #800000;">🔴 <span style="color: black;">Maroon</span></option>
				<option style="color: #000080;">🔵 <span style="color: black;">Navy</span></option>
				<option style="color: #808000;">🟤 <span style="color: black;">Olive</span></option>
				<option style="color: #FFA500;">🟠 <span style="color: black;">Orange</span></option>
				<option selected="selected" style="color: #800080;">🟣 <span style="color: black;">Purple</span></option>
				<option style="color: #FF0000;">🔴 <span style="color: black;">Red</span></option>
				<option style="color: #C0C0C0;">⚪ <span style="color: black;">Silver</span></option>
				<option style="color: #008080;">🔵 <span style="color: black;">Teal</span></option>
				<option style="color: #FFFF00;">🟡 <span style="color: black;">Yellow</span></option>
			</select>
			<select id="player8ai" title="Choose whether this player is controled by a human or by the computer." onclick="document.getElementById('player8name').disabled = this.value !== '0';">
				<option value="0" selected="selected">Human</option>
				<option value="1">AI (Test)</option>
			</select>
		</div>

		<div style="margin: 20px 0px;">
			<input type="button" value="Start Game" onclick="setup();" title="Begin playing." />
		</div>

		<div id="noF5">Note: Refreshing this page or navigating away from it may end your game without warning.</div>
	</div>

	<div id="control">
		<table>
			<tr>
				<td style="text-align: left; vertical-align: top; border: none;">
					<div id="menu">
						<table id="menutable" cellspacing="0">
							<tr>
								<td class="menu-item" id="buy-menu-item">

									<a style="color:white" href="javascript:void(0);" title="View alerts and buy the property you landed on.">Buy</a>
								</td>
								<td class="menu-item" id="manage-menu-item">

									<a style="color:white" href="javascript:void(0);" title="View, mortgage, and improve your property. ">Manage</a>
								</td>
								<td class="menu-item" id="trade-menu-item">

									<a style="color:white" href="javascript:void(0);" title="Exchange property with other players.">Trade</a>
								</td>
							</tr>
						</table>
					</div>

					<div id="buy">
						<div id="alert"></div>
						<div id="landed"></div>
					</div>

					<div id="manage">
						<div id="option">
							<div id="buildings" title="Available buildings"></div>
							<input type="button" value="Buy house" id="buyhousebutton"/>
							<input type="button" value="Mortgage" id="mortgagebutton" />
							<input type="button" value="Sell house" id="sellhousebutton"/>
						</div>
						<div id="owned"></div>
					</div>
				</td>
				<td style="vertical-align: top; border: none;">
					<div id="quickstats">
							<div><span id="pname" >Player 1</span>:</div>
							<div><span id="pmoney">$1500</span></div>
					</div>
					<div>
						<div id="die0" title="Die" class="die die-no-img"></div>
						<div id="die1" title="Die" class="die die-no-img"></div>
					</div>

				</td>
			</tr><tr>
				<td colspan="2" style="border: none">
					<div style="padding-top: 8px;">
						<input type="button" id="nextbutton" title="Roll the dice and move your token accordingly." value="Roll Dice"/>
						<input type="button" id="resignbutton" title="If you cannot pay your debt then you must resign from the game." value="Resign" onclick="game.resign();" />
						<input type="button" id="bankruptbutton" title="Declare bankruptcy and spectate the game" value="Bankrupt" onclick="game.bankrupt();" />
						<input type="button" id="exitroombutton" title="Exit the room and return to home page" value="Exit Room" onclick="game.exitRoom();" style="display: none;" />
					</div>
				</td>
			</tr>
		</table>
	</div>

	<div id="trade">
		<table style="border-spacing: 3px;">
			<tr>
				<td class="trade-cell">
					<div id="trade-leftp-name"></div>
				</td>
				<td class="trade-cell">
					<div id="trade-rightp-name"></div>
				</td>
			</tr>
			<tr>
				<td class="trade-cell">
					$&nbsp;<input id="trade-leftp-money" value="0" title="Enter amount to exchange with the other player." />
				</td>
				<td class="trade-cell">
					$&nbsp;<input id="trade-rightp-money" value="0" title="Enter amount to exchange with the other player." />
				</td>
			</tr>
			<tr>
				<td id="trade-leftp-property" class="trade-cell"></td>
				<td id="trade-rightp-property" class="trade-cell"></td>
			</tr>
			<tr>
				<td colspan="2" class="trade-cell">
					<input type="button" id="proposetradebutton" value="Propose Trade" onclick="game.proposeTrade();" title="Exchange the money and properties that are checked above." />
					<input type="button" id="canceltradebutton" value="Cancel Trade" onclick='game.cancelTrade();' title="Cancel the trade." />
					<input type="button" id="accepttradebutton" value="Accept Trade" onclick="game.acceptTrade();" title="Accept the proposed trade." />
					<input type="button" id="rejecttradebutton" value="Reject Trade" onclick='game.cancelTrade();' title="Reject the proposed trade." />
				</td>
			</tr>
		</table>
	</div>

	<script>
		// Show the setup section only after successful login
		document.addEventListener("DOMContentLoaded", function () {
			if (sessionStorage.getItem("loggedIn") === "true") {
				document.getElementById("setup").style.display = "block";
			} else {
				window.location.href = "login_register.html";
			}
		});

		// Load the appropriate game edition script
		document.getElementById('gameedition').addEventListener('change', function() {
			const classicScript = document.querySelector('script[src="classicedition.js"]');
			const nycScript = document.querySelector('script[src="newyorkcityedition.js"]');
			
			if (this.value === 'classic') {
				if (nycScript) nycScript.remove();
				if (!classicScript) {
					const script = document.createElement('script');
					script.src = 'classicedition.js';
					script.type = 'text/javascript';
					document.head.appendChild(script);
				}
			} else {
				if (classicScript) classicScript.remove();
				if (!nycScript) {
					const script = document.createElement('script');
					script.src = 'newyorkcityedition.js';
					script.type = 'text/javascript';
					document.head.appendChild(script);
				}
			}
		});
	</script>
	<script>
		const sounds = {
			dice: new Audio("assets/sounds/dice-roll.mp3"),
			buy: new Audio("assets/sounds/buy-property.mp3"),
			cash: new Audio("assets/sounds/cash-register.mp3"),
			click: new Audio("assets/sounds/click.mp3")
		};
	
		const cooldowns = {}; // to track last play time per sound

		function playSound(name) {
			const now = Date.now();
			const lastPlayed = cooldowns[name] || 0;
		
			// Check if 5 seconds (5000ms) have passed
			if (now - lastPlayed >= 6000) {
				if (sounds[name]) {
					sounds[name].currentTime = 0;
					sounds[name].play();
					cooldowns[name] = now;
				}
			}
		}
	
		// Example bindings:
		document.getElementById("nextbutton").addEventListener("click", () => playSound("dice"));
		document.getElementById("resignbutton").addEventListener("click", () => playSound("click"));
		document.getElementById("buyhousebutton").addEventListener("click", () => playSound("buy"));
		document.getElementById("mortgagebutton").addEventListener("click", () => playSound("cash"));
	</script>
	
	<script>
		// Initialize game board
		document.addEventListener("DOMContentLoaded", function() {
			// Initialize player positions
			initializePlayerPositions();
			
			// Set up event listeners
			document.getElementById("nextbutton").addEventListener("click", rollDice);
		});

		let currentPlayer = 1;
		const totalPlayers = 4;
		const playerPositions = Array(totalPlayers).fill(0);

		function initializePlayerPositions() {
			// Initialize all players at the starting position (cell 0)
			for (let i = 1; i <= totalPlayers; i++) {
				const playerElement = document.createElement("div");
				playerElement.id = `player${i}`;
				playerElement.className = "player-token";
				document.getElementById("cell0").appendChild(playerElement);
				positionPlayerToken(i, 0);
			}
		}

		function positionPlayerToken(playerNumber, cellId) {
			const cell = document.getElementById(`cell${cellId}`);
			const playerElement = document.getElementById(`player${playerNumber}`);
			
			// Remove player from current cell if it exists
			if (playerElement.parentElement) {
				playerElement.parentElement.removeChild(playerElement);
			}
			
			// Add player to new cell
			cell.appendChild(playerElement);
			
			// Position the token based on player number
			const positions = [
				{ top: '5px', left: '5px' },   // Player 1
				{ top: '5px', right: '5px' },  // Player 2
				{ bottom: '5px', left: '5px' }, // Player 3
				{ bottom: '5px', right: '5px' } // Player 4
			];
			
			Object.assign(playerElement.style, positions[playerNumber - 1]);
		}

		function rollDice() {
			const die1 = Math.floor(Math.random() * 6) + 1;
			const die2 = Math.floor(Math.random() * 6) + 1;
			const total = die1 + die2;

			// Update dice display
			document.getElementById("die0").className = `die die-${die1}`;
			document.getElementById("die1").className = `die die-${die2}`;

			// Move current player
			movePlayer(total);
			
			// Update current player
			currentPlayer = (currentPlayer % totalPlayers) + 1;
			
			// Update player name display
			document.getElementById("pname").textContent = `Player ${currentPlayer}`;

			// Play dice sound
			playSound("dice");
		}

		function movePlayer(spaces) {
			const currentPosition = playerPositions[currentPlayer - 1];
			const newPosition = (currentPosition + spaces) % 40;
			playerPositions[currentPlayer - 1] = newPosition;
			
			// Move the player token
			positionPlayerToken(currentPlayer, newPosition);
		}
	</script>
</body>
</html>
